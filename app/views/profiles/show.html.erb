<div class="min-h-screen bg-gray-50">
  <!-- Top Bar -->
  <div class="bg-white border-b border-gray-200 px-6 py-4">
    <div class="max-w-7xl mx-auto">
      <h1 class="text-xl font-bold">Profile</h1>
    </div>
  </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-6 py-8">
    <!-- User Information Card -->
    <div class="bg-white rounded-lg shadow p-6 mb-8">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">User Information</h2>
      <div class="space-y-3">
        <div class="flex items-start">
          <span class="text-sm font-medium text-gray-500 w-24">Name:</span>
          <span class="text-sm text-gray-900"><%= @user.name %></span>
        </div>
        <div class="flex items-start">
          <span class="text-sm font-medium text-gray-500 w-24">Email:</span>
          <span class="text-sm text-gray-900"><%= @user.email %></span>
        </div>
        <div class="flex items-start">
          <span class="text-sm font-medium text-gray-500 w-24">Member since:</span>
          <span class="text-sm text-gray-900"><%= @user.created_at.strftime("%B %d, %Y") %></span>
        </div>
      </div>
    </div>

    <!-- API Usage Card -->
    <% if @user.token_usage.any? %>
      <div class="bg-white rounded-lg shadow p-6 mb-8">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">API Usage</h2>
        <div class="space-y-4">
          <% @user.token_usage.each do |model, usage| %>
            <div class="border-b border-gray-200 pb-3 last:border-b-0 last:pb-0">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-900"><%= model %></span>
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <span class="text-xs text-gray-500">Input Tokens:</span>
                  <span class="text-sm font-medium text-gray-900 ml-2"><%= number_with_delimiter(usage[:input]) %></span>
                </div>
                <div>
                  <span class="text-xs text-gray-500">Output Tokens:</span>
                  <span class="text-sm font-medium text-gray-900 ml-2"><%= number_with_delimiter(usage[:output]) %></span>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>

    <!-- Games Section -->
    <div class="mb-4">
      <div class="flex items-center justify-between">
        <h2 class="text-lg font-semibold text-gray-900">My Games (<%= @games.count %>)</h2>
        <%= link_to "New Game", new_game_path, class: "bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm" %>
      </div>
    </div>

    <% if @games.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <% @games.each do |game| %>
          <%= link_to game_path(game), class: "block" do %>
            <div class="bg-white rounded-lg shadow hover:shadow-lg transition-shadow p-6 h-full">
              <div class="flex flex-col h-full">
                <!-- Game Title -->
                <h3 class="text-lg font-semibold text-gray-900 mb-2">
                  <%= game.name || "Untitled Game" %>
                </h3>

                <!-- Game Description -->
                <% if game.pdfs.first&.description.present? %>
                  <p class="text-sm text-gray-600 mb-4 line-clamp-3">
                    <%= game.pdfs.first.description %>
                  </p>
                <% end %>

                <!-- Game Stats -->
                <div class="mt-auto pt-4 border-t border-gray-200">
                  <div class="flex items-center justify-between text-xs text-gray-500">
                    <div class="flex items-center space-x-4">
                      <span class="flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
                        </svg>
                        <%= game.game_notes.count %> notes
                      </span>
                      <span class="flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <%= game.pdfs.count %> PDFs
                      </span>
                    </div>
                    <span>
                      <%= game.updated_at.strftime("%b %d, %Y") %>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    <% else %>
      <!-- Empty State -->
      <div class="bg-white rounded-lg shadow p-12 text-center">
        <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
        </svg>
        <h3 class="mt-2 text-lg font-medium text-gray-900">No games yet</h3>
        <p class="mt-1 text-sm text-gray-500">Get started by creating a new game.</p>
        <%= link_to "Create New Game", new_game_path, class: "mt-6 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
      </div>
    <% end %>
  </div>
</div>
